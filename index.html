<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Brain Boost</title>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" rel="stylesheet">
<style>
@import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700&display=swap');
:root{--p:#667eea;--s:#764ba2;--g:#48bb78;--bg:#f9fbfd;--txt:#2d3748;--fs:16px}
*{box-sizing:border-box}
body{font-family:Nunito,sans-serif;background:var(--bg);padding:10px;min-height:100vh;transition:all .3s;font-size:var(--fs);color:var(--txt)}
body.dark{--bg:#1a202c;--txt:#f7fafc}
body.dark .gc,body.dark .pnl{background:#2d3748;color:#f7fafc}
body.dark .cd{background:#4a5568}
body.dark .cd.fp{background:#2d3748}
body.dark .ib{background:#4a5568;color:#fff}
body.rm *{animation:none!important;transition:none!important}
canvas{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-1;opacity:.4}
.con{max-width:1000px;z-index:1;position:relative;margin:auto}
.hd{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;flex-wrap:wrap}
.hd h1{color:var(--p);font-size:2rem;margin:0;display:flex;align-items:center;gap:10px}
.ctl{display:flex;gap:10px;align-items:center}
.ib{background:#fff;border:none;width:45px;height:45px;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;box-shadow:0 4px 8px rgba(0,0,0,.1);transition:transform .2s;font-size:1.2rem}
.ib:hover{transform:scale(1.1)}
.ib:active{transform:scale(.95)}
.bdg{background:var(--p);color:#fff;padding:8px 16px;border-radius:20px;font-weight:600;display:inline-flex;align-items:center;gap:8px}
.flm{animation:flk 1.5s infinite}
@keyframes flk{0%,100%{opacity:1}50%{opacity:.8;transform:scale(1.1)}}
.gc,.pnl{display:none;margin-top:20px;background:#fff;padding:25px;border-radius:20px;box-shadow:0 4px 12px rgba(0,0,0,.08);animation:sld .3s}
@keyframes sld{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
#home{display:block}
.grd{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:20px;margin:30px 0}
.gcd{background:linear-gradient(135deg,var(--p),var(--s));padding:30px;border-radius:20px;color:#fff;cursor:pointer;transition:transform .3s;box-shadow:0 4px 12px rgba(0,0,0,.1)}
.gcd:hover{transform:translateY(-5px)}
.gci{font-size:3rem;margin-bottom:15px}
.gct{font-size:1.5rem;font-weight:700;margin-bottom:10px}
.gcdesc{font-size:.95rem;opacity:.9}
.cd{width:90px;height:90px;background:#b8d8f8;border-radius:12px;font-size:36px;display:flex;align-items:center;justify-content:center;cursor:pointer;user-select:none;transition:transform .2s}
.cd:active{transform:scale(.95)}
.cd.fp{background:#fff;border:3px solid var(--p)}
#mg{display:grid;gap:10px;justify-content:center;margin:20px 0}
.msg{margin-top:20px;font-size:1.3rem;color:var(--g);text-align:center;min-height:30px;font-weight:600}
.qo{margin:10px auto;font-size:1.2rem;padding:15px;width:100%;max-width:400px;display:block;border-radius:12px;transition:transform .2s}
.qo:hover{transform:scale(1.02)}
.btn-primary{background:linear-gradient(135deg,var(--p),#5568d3);border:none;padding:12px 25px;font-size:1.1rem;border-radius:12px;font-weight:600;transition:transform .2s}
.btn-primary:hover{transform:translateY(-2px)}
.sb{width:100px;height:100px;margin:5px;border:none;border-radius:15px;transition:all .2s;box-shadow:0 4px 8px rgba(0,0,0,.2)}
.wb{padding:25px;margin:15px;background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-radius:15px;font-size:1.8rem;text-align:center;border:2px solid #dee2e6;animation:pop .3s;color:#2d3748}
body.dark .wb{background:linear-gradient(135deg,#4a5568,#2d3748);color:#f7fafc;border-color:#718096}
@keyframes pop{from{transform:scale(.8);opacity:0}to{transform:scale(1);opacity:1}}
.pg{display:grid;grid-template-columns:repeat(3,80px);gap:10px;justify-content:center;margin:20px auto}
.pc{width:80px;height:80px;border:2px solid #ccc;border-radius:12px;cursor:pointer;background:#fff;transition:all .3s}
.pc.act{background:var(--p);box-shadow:0 0 20px rgba(102,126,234,.6)}
.pc.pl{background:var(--g)}
.sg{display:grid;gap:20px;margin:20px 0}
.si{display:flex;justify-content:space-between;align-items:center;padding:15px;background:#f8f9fa;border-radius:12px}
body.dark .si{background:#4a5568}
.sw{position:relative;width:60px;height:30px}
.sw input{display:none}
.slr{position:absolute;cursor:pointer;top:0;left:0;right:0;bottom:0;background:#ccc;transition:.3s;border-radius:30px}
.slr:before{position:absolute;content:"";height:22px;width:22px;left:4px;bottom:4px;background:#fff;transition:.3s;border-radius:50%}
input:checked+.slr{background:var(--p)}
input:checked+.slr:before{transform:translateX(30px)}
.stg{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:15px;margin:20px 0}
.stc{background:linear-gradient(135deg,var(--p),var(--s));color:#fff;padding:20px;border-radius:15px;text-align:center}
.stv{font-size:2.5rem;font-weight:700}
.stl{font-size:.9rem;opacity:.9}
h2{color:var(--txt);text-align:center;margin-bottom:15px;font-weight:700}
.dsc{text-align:center;color:#666;margin-bottom:20px;font-size:1.1rem}
body.dark .dsc{color:#cbd5e0}
@media(max-width:768px){:root{--fs:14px}.hd h1{font-size:1.5rem}.grd{grid-template-columns:1fr}.cd{width:70px;height:70px;font-size:28px}.sb{width:75px;height:75px}.pg{grid-template-columns:repeat(3,60px)}.pc{width:60px;height:60px}}
</style>
</head>
<body>
<canvas id="cv"></canvas>
<div class="con">
<div class="hd">
<h1><span>üß†</span><span>Brain Boost</span></h1>
<div class="ctl">
<div class="bdg"><i class="fas fa-fire flm"></i><span id="str">0</span> days</div>
<button class="ib" onclick="showStats()"><i class="fas fa-chart-bar"></i></button>
<button class="ib" onclick="showSettings()"><i class="fas fa-cog"></i></button>
<button class="ib" onclick="toggleDark()"><i class="fas fa-moon"></i></button>
</div>
</div>
<div id="home">
<p class="dsc">Keep your mind sharp with fun exercises!</p>
<div class="grd">
<div class="gcd" onclick="showGame('mem')"><div class="gci">üé¥</div><div class="gct">Memory Match</div><div class="gcdesc">Find pairs</div></div>
<div class="gcd" onclick="showGame('qz')"><div class="gci">‚ùì</div><div class="gct">Trivia Quiz</div><div class="gcdesc">Test knowledge</div></div>
<div class="gcd" onclick="showGame('sm')"><div class="gci">üéµ</div><div class="gct">Simon Says</div><div class="gcdesc">Repeat sequence</div></div>
<div class="gcd" onclick="showGame('wd')"><div class="gci">üí≠</div><div class="gct">Word Memory</div><div class="gcdesc">Remember words</div></div>
<div class="gcd" onclick="showGame('pt')"><div class="gci">üî∑</div><div class="gct">Pattern Match</div><div class="gcdesc">Copy pattern</div></div>
<div class="gcd" onclick="showGame('nm')"><div class="gci">üî¢</div><div class="gct">Number Recall</div><div class="gcdesc">Remember numbers</div></div>
</div>
</div>
<div id="stp" class="pnl">
<h2><i class="fas fa-trophy"></i> Your Progress</h2>
<div class="stg">
<div class="stc"><div class="stv" id="tg">0</div><div class="stl">Games</div></div>
<div class="stc"><div class="stv" id="tt">0m</div><div class="stl">Time</div></div>
<div class="stc"><div class="stv" id="bs">0</div><div class="stl">Best Streak</div></div>
<div class="stc"><div class="stv" id="ac">0%</div><div class="stl">Accuracy</div></div>
</div>
<button class="btn btn-primary mt-3" onclick="exportStats()"><i class="fas fa-download"></i> Export</button>
<button class="btn btn-secondary mt-3" onclick="goHome()">Back</button>
</div>
<div id="setp" class="pnl">
<h2><i class="fas fa-sliders-h"></i> Settings</h2>
<div class="sg">
<div class="si"><span><i class="fas fa-volume-up"></i> Sound</span><label class="sw"><input type="checkbox" id="snd" checked onchange="toggleSound()"><span class="slr"></span></label></div>
<div class="si"><span><i class="fas fa-palette"></i> Color Blind</span><label class="sw"><input type="checkbox" id="cb" onchange="toggleColorBlind()"><span class="slr"></span></label></div>
<div class="si"><span><i class="fas fa-running"></i> Reduce Motion</span><label class="sw"><input type="checkbox" id="rm" onchange="toggleMotion()"><span class="slr"></span></label></div>
<div class="si"><span><i class="fas fa-font"></i> Text Size</span><select class="form-control" style="width:120px" onchange="changeFontSize(this.value)"><option value="16">Normal</option><option value="18">Large</option><option value="20">Larger</option><option value="24">Largest</option></select></div>
<div class="si"><span><i class="fas fa-volume-down"></i> Volume</span><input type="range" min="0" max="100" value="70" class="form-control-range" style="width:120px" oninput="changeVolume(this.value)"></div>
</div>
<button class="btn btn-danger mt-3" onclick="resetProgress()"><i class="fas fa-trash"></i> Reset</button>
<button class="btn btn-secondary mt-3" onclick="goHome()">Back</button>
</div>
<div id="mem" class="gc">
<h2>üé¥ Memory Match</h2>
<p class="dsc">Find all pairs!</p>
<div class="text-center mb-3">
<button class="btn btn-primary" onclick="setMemoryLevel('easy')">Easy</button>
<button class="btn btn-primary" onclick="setMemoryLevel('med')">Medium</button>
<button class="btn btn-primary" onclick="setMemoryLevel('hard')">Hard</button>
</div>
<div id="mg"></div>
<div class="msg" id="m1">Let's start!</div>
<button class="btn btn-secondary mt-3" onclick="goHome()"><i class="fas fa-home"></i> Home</button>
</div>
<div id="qz" class="gc">
<h2>‚ùì Trivia Quiz</h2>
<p class="dsc">Take your time!</p>
<div id="qq" class="text-center mb-3" style="font-size:1.3rem;font-weight:600"></div>
<div id="qopt" class="text-center"></div>
<div class="msg" id="m2"></div>
<button class="btn btn-secondary mt-3" onclick="goHome()"><i class="fas fa-home"></i> Home</button>
</div>
<div id="sm" class="gc">
<h2>üéµ Simon Says</h2>
<p class="dsc">Watch and repeat!</p>
<div class="text-center mb-3"><button class="btn btn-primary btn-lg" onclick="startSimon()"><i class="fas fa-play"></i> Start</button></div>
<div class="d-flex justify-content-center flex-wrap">
<button class="sb btn-danger" onclick="simonClick('red')"></button>
<button class="sb btn-success" onclick="simonClick('green')"></button>
<button class="sb btn-primary" onclick="simonClick('blue')"></button>
<button class="sb btn-warning" onclick="simonClick('yellow')"></button>
</div>
<div class="msg" id="m3">Press Start!</div>
<button class="btn btn-secondary mt-3" onclick="goHome()"><i class="fas fa-home"></i> Home</button>
</div>
<div id="wd" class="gc">
<h2>üí≠ Word Memory</h2>
<p class="dsc">Remember these words</p>
<div id="wdsp"></div>
<div id="wdin" style="display:none" class="text-center">
<input type="text" id="wans" class="form-control" style="max-width:300px;margin:20px auto;font-size:1.2rem" placeholder="Type a word">
<button class="btn btn-primary" onclick="checkWord()">Submit</button>
<button class="btn btn-secondary" onclick="skipWord()">Skip</button>
</div>
<div class="msg" id="m4"></div>
<button class="btn btn-primary mt-3" id="wbtn" onclick="startWord()">Start</button>
<button class="btn btn-secondary mt-3" onclick="goHome()"><i class="fas fa-home"></i> Home</button>
</div>
<div id="pt" class="gc">
<h2>üî∑ Pattern Match</h2>
<p class="dsc">Watch then copy</p>
<div class="text-center mb-3"><button class="btn btn-primary btn-lg" onclick="startPattern()"><i class="fas fa-play"></i> Start</button></div>
<div class="pg" id="pgr"></div>
<div class="msg" id="m5">Press Start!</div>
<button class="btn btn-secondary mt-3" onclick="goHome()"><i class="fas fa-home"></i> Home</button>
</div>
<div id="nm" class="gc">
<h2>üî¢ Number Recall</h2>
<p class="dsc">Remember the sequence</p>
<div id="ndsp"></div>
<div id="ndin" style="display:none" class="text-center">
<input type="text" id="nans" class="form-control" style="max-width:300px;margin:20px auto;font-size:1.2rem" placeholder="Type numbers">
<button class="btn btn-primary" onclick="checkNumber()">Submit</button>
</div>
<div class="msg" id="m6"></div>
<button class="btn btn-primary mt-3" id="nbtn" onclick="startNumber()">Start</button>
<button class="btn btn-secondary mt-3" onclick="goHome()"><i class="fas fa-home"></i> Home</button>
</div>
</div>
<script src="games.js"></script>
<script>
const ac=new(window.AudioContext||window.webkitAudioContext)();
let soundEnabled=true,volume=0.7,gameStartTime;

const playSound=(freq,duration)=>{if(!soundEnabled)return;const o=ac.createOscillator(),g=ac.createGain();o.connect(g);g.connect(ac.destination);o.frequency.value=freq;o.type='sine';g.gain.setValueAtTime(0.3*volume,ac.currentTime);g.gain.exponentialRampToValueAtTime(0.01,ac.currentTime+duration);o.start();o.stop(ac.currentTime+duration)};
const playWin=()=>{playSound(523.25,0.2);setTimeout(()=>playSound(659.25,0.2),100);setTimeout(()=>playSound(783.99,0.3),200)};
const playPop=()=>playSound(440,0.1);
const playEnc=()=>{playSound(392,0.15);setTimeout(()=>playSound(523.25,0.2),150)};

const save=(k,v)=>{try{localStorage.setItem(k,JSON.stringify(v))}catch(e){console.log(e)}};
const load=(k)=>{try{const v=localStorage.getItem(k);return v?JSON.parse(v):null}catch(e){return null}};

const cv=document.getElementById('cv'),ctx=cv.getContext('2d');cv.width=innerWidth;cv.height=innerHeight;
const pts=Array.from({length:50},()=>({x:Math.random()*cv.width,y:Math.random()*cv.height,vx:(Math.random()-.5)*.5,vy:(Math.random()-.5)*.5,r:Math.random()*3+1}));
const drawParticles=()=>{ctx.clearRect(0,0,cv.width,cv.height);ctx.fillStyle='rgba(102,126,234,0.5)';pts.forEach(p=>{ctx.beginPath();ctx.arc(p.x,p.y,p.r,0,Math.PI*2);ctx.fill();p.x+=p.vx;p.y+=p.vy;if(p.x<0||p.x>cv.width)p.vx*=-1;if(p.y<0||p.y>cv.height)p.vy*=-1});requestAnimationFrame(drawParticles)};
drawParticles();
window.addEventListener('resize',()=>{cv.width=innerWidth;cv.height=innerHeight});

const showGame=g=>{document.querySelectorAll('.gc,.pnl').forEach(e=>e.style.display='none');document.getElementById('home').style.display='none';document.getElementById(g).style.display='block';gameStartTime=Date.now();if(g==='mem')startMemory();if(g==='qz')startQuiz()};
const goHome=()=>{if(gameStartTime){const dur=Math.floor((Date.now()-gameStartTime)/1000);updateGameStats(dur)}document.querySelectorAll('.gc,.pnl').forEach(e=>e.style.display='none');document.getElementById('home').style.display='block'};
const showStats=()=>{document.getElementById('home').style.display='none';document.getElementById('stp').style.display='block';loadStatsDisplay()};
const showSettings=()=>{document.getElementById('home').style.display='none';document.getElementById('setp').style.display='block'};
const toggleDark=()=>{document.body.classList.toggle('dark');save('dark',document.body.classList.contains('dark'))};

const updateGameStats=d=>{let s=load('stats')||{games:0,time:0,streak:0,bestStreak:0,correct:0,total:0};s.games++;s.time+=d;const td=new Date().toDateString(),lp=load('lastPlayed');if(lp!==td){const yd=new Date();yd.setDate(yd.getDate()-1);s.streak=lp===yd.toDateString()?s.streak+1:1;save('lastPlayed',td)}if(s.streak>s.bestStreak)s.bestStreak=s.streak;save('stats',s);document.getElementById('str').textContent=s.streak};
const loadStatsDisplay=()=>{const s=load('stats')||{games:0,time:0,bestStreak:0,correct:0,total:0};document.getElementById('tg').textContent=s.games;document.getElementById('tt').textContent=Math.floor(s.time/60)+'m';document.getElementById('bs').textContent=s.bestStreak;const a=s.total>0?Math.round(s.correct/s.total*100):0;document.getElementById('ac').textContent=a+'%'};
const exportStats=()=>{const s=load('stats')||{};const b=new Blob([JSON.stringify(s,null,2)],{type:'application/json'}),u=URL.createObjectURL(b),a=document.createElement('a');a.href=u;a.download='brain-report.json';a.click()};

const toggleSound=()=>{soundEnabled=document.getElementById('snd').checked;save('sound',soundEnabled)};
const toggleColorBlind=()=>{const cb=document.getElementById('cb').checked;document.body.classList.toggle('cb',cb);save('colorblind',cb)};
const toggleMotion=()=>{const rm=document.getElementById('rm').checked;document.body.classList.toggle('rm',rm);save('motion',rm)};
const changeFontSize=v=>{document.documentElement.style.setProperty('--fs',v+'px');save('fontSize',v)};
const changeVolume=v=>{volume=v/100;save('volume',volume)};
const resetProgress=()=>{if(confirm('Reset all progress?')){localStorage.clear();location.reload()}};

// Memory game
const memLevels={easy:["üå∏","üçé","‚≠ê","üê∂"],med:["üå∏","üçé","‚≠ê","üê∂","üçå","üê±"],hard:["üå∏","üçé","‚≠ê","üê∂","üçå","üê±","üåº","üçá"]};
let memSymbols=memLevels.easy,memCards=[],memFirst=null,memSecond=null,memLocked=false,memMatches=0;
const shuffle=a=>{for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]]}};
const setMemoryLevel=l=>{memSymbols=memLevels[l];startMemory()};
const startMemory=()=>{const g=document.getElementById('mg'),m=document.getElementById('m1');g.innerHTML='';m.textContent="Let's start!";memMatches=0;memFirst=null;memSecond=null;memLocked=false;memCards=[...memSymbols,...memSymbols];shuffle(memCards);const cols=Math.ceil(Math.sqrt(memCards.length));g.style.gridTemplateColumns=`repeat(${cols},90px)`;memCards.forEach(s=>{const c=document.createElement('div');c.className='cd';c.textContent='‚ùì';c.dataset.s=s;c.onclick=()=>flipMemoryCard(c);g.appendChild(c)})};
const flipMemoryCard=c=>{if(memLocked||c.classList.contains('fp'))return;playPop();c.classList.add('fp');c.textContent=c.dataset.s;if(!memFirst){memFirst=c}else{memSecond=c;checkMemoryMatch()}};
const checkMemoryMatch=()=>{const m=document.getElementById('m1');if(memFirst.dataset.s===memSecond.dataset.s){playWin();memMatches+=2;m.textContent='Nice match!';resetMemoryPair();if(memMatches===memCards.length){m.textContent='üéâ All matched!';setTimeout(playWin,200)}}else{memLocked=true;playEnc();m.textContent="Keep trying!";setTimeout(()=>{memFirst.textContent='‚ùì';memSecond.textContent='‚ùì';memFirst.classList.remove('fp');memSecond.classList.remove('fp');resetMemoryPair()},1500)}};
const resetMemoryPair=()=>{memFirst=null;memSecond=null;memLocked=false};

// Quiz game
const quizQuestions=[{q:"What color is the sky?",o:["Blue","Green","Red","Yellow"],a:"Blue"},{q:"How many legs does a dog have?",o:["2","4","6","8"],a:"4"},{q:"What fruit is yellow and curved?",o:["Apple","Banana","Orange","Grape"],a:"Banana"},{q:"What animal says meow?",o:["Dog","Cat","Bird","Fish"],a:"Cat"},{q:"What season after winter?",o:["Summer","Fall","Spring","Winter"],a:"Spring"},{q:"What do bees make?",o:["Milk","Honey","Butter","Cheese"],a:"Honey"},{q:"Sides of triangle?",o:["2","3","4","5"],a:"3"}];
let quizIndex=0;
const startQuiz=()=>{quizIndex=0;showQuizQuestion()};
const showQuizQuestion=()=>{const qe=document.getElementById('qq'),oe=document.getElementById('qopt'),me=document.getElementById('m2');if(quizIndex>=quizQuestions.length){qe.textContent='';oe.innerHTML='';me.textContent='üéâ Quiz done!';playWin();return}const q=quizQuestions[quizIndex];qe.textContent=q.q;oe.innerHTML='';me.textContent='';q.o.forEach(o=>{const b=document.createElement('button');b.className='btn btn-outline-primary qo';b.textContent=o;b.onclick=()=>checkQuizAnswer(o);oe.appendChild(b)})};
const checkQuizAnswer=s=>{playPop();const me=document.getElementById('m2'),c=quizQuestions[quizIndex].a;if(s===c){me.textContent='üëç Correct!';playWin()}else{me.textContent=`üôÇ Answer is ${c}`;playEnc()}setTimeout(()=>{quizIndex++;showQuizQuestion()},2500)};

// Simon game
const simonColors=['red','green','blue','yellow'],simonFreq={red:329.63,green:261.63,blue:392,yellow:440};
let simonSeq=[],playerSeq=[],simonPlaying=false;
const startSimon=()=>{playPop();simonSeq=[];playerSeq=[];document.getElementById('m3').textContent='Watch!';nextSimonRound()};
const nextSimonRound=()=>{playerSeq=[];simonSeq.push(simonColors[Math.floor(Math.random()*4)]);playSimonSequence()};
const playSimonSequence=()=>{simonPlaying=true;let i=0;const iv=setInterval(()=>{if(i>=simonSeq.length){clearInterval(iv);simonPlaying=false;document.getElementById('m3').textContent='Your turn!';return}highlightSimonButton(simonSeq[i]);i++},900)};
const highlightSimonButton=col=>{const bs=document.querySelectorAll('.sb'),cm={red:0,green:1,blue:2,yellow:3},b=bs[cm[col]];playSound(simonFreq[col],0.4);b.style.opacity=0.4;setTimeout(()=>b.style.opacity=1,400)};
const simonClick=col=>{if(simonPlaying)return;playerSeq.push(col);highlightSimonButton(col);if(playerSeq[playerSeq.length-1]!==simonSeq[playerSeq.length-1]){document.getElementById('m3').textContent='Oops! Press Start';playEnc();simonPlaying=true;return}if(playerSeq.length===simonSeq.length){document.getElementById('m3').textContent='Great! Next...';playWin();setTimeout(nextSimonRound,1500)}};

// Word game
const wordLists=[["Apple","Chair","Dog"],["Sun","Book","Tree","Car"],["House","Bird","Phone","Ball","Hat"]];
let wordCurrent=[],wordRemembered=0;
const startWord=()=>{playPop();wordCurrent=wordLists[Math.floor(Math.random()*wordLists.length)];wordRemembered=0;document.getElementById('wbtn').style.display='none';document.getElementById('m4').textContent='Remember...';const d=document.getElementById('wdsp');d.innerHTML=wordCurrent.map(w=>`<div class="wb">${w}</div>`).join('');setTimeout(()=>{d.innerHTML='<p style="font-size:1.3rem">Recall them!</p>';document.getElementById('wdin').style.display='block';document.getElementById('wans').value='';document.getElementById('wans').focus();document.getElementById('m4').textContent=''},4000)};
const checkWord=()=>{const a=document.getElementById('wans').value.trim(),m=document.getElementById('m4');if(wordCurrent.map(w=>w.toLowerCase()).includes(a.toLowerCase())){playWin();m.textContent='üëç Yes!';wordRemembered++;wordCurrent=wordCurrent.filter(w=>w.toLowerCase()!==a.toLowerCase())}else{playEnc();m.textContent='üôÇ Not quite!'}document.getElementById('wans').value='';if(wordCurrent.length===0){m.textContent=`üéâ Got all ${wordRemembered}!`;document.getElementById('wdin').style.display='none';document.getElementById('wbtn').style.display='block'}};
const skipWord=()=>{playPop();document.getElementById('m4').textContent=`Good! Got ${wordRemembered}!`;document.getElementById('wdin').style.display='none';document.getElementById('wbtn').style.display='block'};

// Pattern game
let patternSeq=[],playerPattern=[],patternLevel=3,showingPattern=false;
const createPatternGrid=()=>{const g=document.getElementById('pgr');g.innerHTML='';for(let i=0;i<9;i++){const c=document.createElement('div');c.className='pc';c.dataset.i=i;c.onclick=()=>patternClick(i);g.appendChild(c)}};
const startPattern=()=>{playPop();createPatternGrid();patternLevel=3;playerPattern=[];document.getElementById('m5').textContent='Watch...';generatePattern()};
const generatePattern=()=>{patternSeq=[];const cells=Array.from(document.querySelectorAll('.pc'));cells.forEach(c=>c.classList.remove('act','pl'));while(patternSeq.length<patternLevel){const idx=Math.floor(Math.random()*9);if(!patternSeq.includes(idx))patternSeq.push(idx)}showPattern()};
const showPattern=()=>{showingPattern=true;const cells=Array.from(document.querySelectorAll('.pc'));patternSeq.forEach((idx,i)=>{setTimeout(()=>{playSound(440+(i*50),0.2);cells[idx].classList.add('act')},i*800)});setTimeout(()=>{cells.forEach(c=>c.classList.remove('act'));showingPattern=false;document.getElementById('m5').textContent='Your turn!'},patternSeq.length*800+800)};
const patternClick=idx=>{if(showingPattern)return;playPop();const c=document.querySelectorAll('.pc')[idx];c.classList.add('pl');playerPattern.push(idx);setTimeout(()=>c.classList.remove('pl'),300);if(playerPattern[playerPattern.length-1]!==patternSeq[playerPattern.length-1]){document.getElementById('m5').textContent='Oops! Try again';playEnc();return}if(playerPattern.length===patternSeq.length){playWin();document.getElementById('m5').textContent='Perfect! Next...';patternLevel=Math.min(patternLevel+1,7);setTimeout(()=>{playerPattern=[];generatePattern()},1500)}};

// Number game
let numberSequence='',numberLevel=3;
const startNumber=()=>{playPop();numberLevel=3;numberSequence=Array.from({length:numberLevel},()=>Math.floor(Math.random()*10)).join('');document.getElementById('nbtn').style.display='none';document.getElementById('m6').textContent='Remember...';document.getElementById('ndsp').innerHTML=`<div class="wb">${numberSequence}</div>`;setTimeout(()=>{document.getElementById('ndsp').innerHTML='<p style="font-size:1.3rem">What was it?</p>';document.getElementById('ndin').style.display='block';document.getElementById('nans').value='';document.getElementById('nans').focus();document.getElementById('m6').textContent=''},3000)};
const checkNumber=()=>{const a=document.getElementById('nans').value.trim(),m=document.getElementById('m6');if(a===numberSequence){playWin();m.textContent='üëç Perfect!';numberLevel++;setTimeout(()=>{document.getElementById('ndin').style.display='none';document.getElementById('nbtn').style.display='block';startNumber()},2000)}else{playEnc();m.textContent='üôÇ Try again!';document.getElementById('nans').value=''}};

window.onload=()=>{const s=load('stats');if(s&&s.streak)document.getElementById('str').textContent=s.streak;if(load('dark'))toggleDark()};
</script>
</body>
</html>
