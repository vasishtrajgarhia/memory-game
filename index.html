<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brain Boost Games</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f9fbfd;
            padding: 20px;
        }

        h1, h2 {
            color: #4a6fa5;
            text-align: center;
        }

        .game-container {
            display: none;
            margin-top: 20px;
        }

        #home {
            display: block;
        }

        .card {
            width: 110px;
            height: 110px;
            background: #b8d8f8;
            border-radius: 12px;
            font-size: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }

        .card.flipped, .card.matched {
            background: #ffffff;
            border: 2px solid #4a6fa5;
            cursor: default;
        }

        #memory-game {
            display: grid;
            gap: 15px;
            justify-content: center;
        }

        #message, #quiz-message {
            margin-top: 20px;
            font-size: 18px;
            color: #2e7d32;
            text-align: center;
            min-height: 24px;
        }

        .quiz-option {
            margin: 10px 0;
            font-size: 18px;
        }

        .btn-primary {
            background: #4a6fa5;
            border: none;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üß† Brain Boost Games</h1>
        <p class="text-center">Fun and gentle games to stimulate your mind. Designed for seniors and those with Alzheimer's. Take your time and enjoy!</p>

        <div id="home" class="text-center">
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('memory')">Memory Matching</button>
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('quiz')">Trivia Quiz</button>
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('simon')">Simon Sequence</button>
        </div>

        <!-- Memory Game -->
        <div id="memory" class="game-container">
            <h2>Memory Matching</h2>
            <p class="text-center">Match the pairs. Choose a level and take your time.</p>
            <div class="text-center mb-3">
                <button class="btn btn-primary" onclick="setLevel('easy')">Easy (4 pairs)</button>
                <button class="btn btn-primary" onclick="setLevel('medium')">Medium (6 pairs)</button>
                <button class="btn btn-primary" onclick="setLevel('hard')">Hard (8 pairs)</button>
            </div>
            <div id="memory-game"></div>
            <div id="message">üòä Let‚Äôs begin!</div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>

        <!-- Quiz Game -->
        <div id="quiz" class="game-container">
            <h2>Trivia Quiz</h2>
            <p class="text-center">Answer simple questions. No rush!</p>
            <div id="quiz-question" class="text-center mb-3"></div>
            <div id="quiz-options" class="text-center"></div>
            <div id="quiz-message"></div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>

        <!-- Simon Game -->
        <div id="simon" class="game-container">
            <h2>Simon Sequence</h2>
            <p class="text-center">Watch the sequence and repeat it. Starts simple.</p>
            <div class="text-center mb-3">
                <button class="btn btn-primary" onclick="startSimon()">Start Game</button>
            </div>
            <div id="simon-buttons" class="d-flex justify-content-center">
                <button id="red" class="btn btn-danger m-2" style="width:100px;height:100px;" onclick="playerClick('red')"></button>
                <button id="green" class="btn btn-success m-2" style="width:100px;height:100px;" onclick="playerClick('green')"></button>
                <button id="blue" class="btn btn-primary m-2" style="width:100px;height:100px;" onclick="playerClick('blue')"></button>
                <button id="yellow" class="btn btn-warning m-2" style="width:100px;height:100px;" onclick="playerClick('yellow')"></button>
            </div>
            <div id="simon-message" class="text-center mt-3">üòä Press Start to begin!</div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>
    </div>

    <script>
        function showGame(gameId) {
            document.querySelectorAll('.game-container').forEach(el => el.style.display = 'none');
            document.getElementById('home').style.display = 'none';
            document.getElementById(gameId).style.display = 'block';
            if (gameId === 'memory') startMemoryGame();
            if (gameId === 'quiz') startQuiz();
            if (gameId === 'simon') document.getElementById('simon-message').textContent = 'üòä Press Start to begin!';
        }

        function backToHome() {
            document.querySelectorAll('.game-container').forEach(el => el.style.display = 'none');
            document.getElementById('home').style.display = 'block';
        }

        // Memory Game Script
        const memoryLevels = {
            easy: ["üå∏","üçé","‚≠ê","üê∂"],
            medium: ["üå∏","üçé","‚≠ê","üê∂","üçå","üê±"],
            hard: ["üå∏","üçé","‚≠ê","üê∂","üçå","üê±","üåº","üçá"]
        };

        let memorySymbols = memoryLevels.easy;
        let memoryCards = [];
        let memoryFirst = null;
        let memorySecond = null;
        let memoryLock = false;
        let memoryMatches = 0;

        function shuffle(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
        }

        function setLevel(level) {
            memorySymbols = memoryLevels[level];
            startMemoryGame();
        }

        function startMemoryGame() {
            const game = document.getElementById("memory-game");
            const message = document.getElementById("message");
            game.innerHTML = "";
            message.textContent = "üòä Let‚Äôs begin!";
            memoryMatches = 0;
            memoryFirst = null;
            memorySecond = null;
            memoryLock = false;

            memoryCards = [...memorySymbols, ...memorySymbols];
            shuffle(memoryCards);

            const cols = Math.ceil(Math.sqrt(memoryCards.length));
            game.style.gridTemplateColumns = `repeat(${cols}, 110px)`;

            memoryCards.forEach(sym => {
                const card = document.createElement("div");
                card.className = "card";
                card.textContent = "‚ùì";
                card.dataset.sym = sym;
                card.onclick = () => memoryFlip(card);
                game.appendChild(card);
            });
        }

        function memoryFlip(card) {
            if (memoryLock || card.classList.contains("flipped") || card.classList.contains("matched")) return;

            card.classList.add("flipped");
            card.textContent = card.dataset.sym;

            if (!memoryFirst) {
                memoryFirst = card;
            } else {
                memorySecond = card;
                memoryCheck();
            }
        }

        function memoryCheck() {
            const message = document.getElementById("message");

            if (memoryFirst.dataset.sym === memorySecond.dataset.sym) {
                memoryFirst.classList.add("matched");
                memorySecond.classList.add("matched");
                memoryMatches += 2;
                message.textContent = "üëç Nice! You found a match.";
                memoryReset();

                if (memoryMatches === memoryCards.length) {
                    message.textContent = "üéâ Wonderful! You matched all the pairs.";
                }
            } else {
                memoryLock = true;
                message.textContent = "üôÇ That‚Äôs okay. Try again.";
                setTimeout(() => {
                    memoryFirst.textContent = "‚ùì";
                    memorySecond.textContent = "‚ùì";
                    memoryFirst.classList.remove("flipped");
                    memorySecond.classList.remove("flipped");
                    memoryReset();
                }, 1200);
            }
        }

        function memoryReset() {
            [memoryFirst, memorySecond] = [null, null];
            memoryLock = false;
        }

        // Quiz Game Script
        const quizQuestions = [
            { question: "What color is the sky on a clear day?", options: ["Blue", "Green", "Red", "Yellow"], answer: "Blue" },
            { question: "How many legs does a dog have?", options: ["2", "4", "6", "8"], answer: "4" },
            { question: "What fruit is yellow and curved?", options: ["Apple", "Banana", "Orange", "Grape"], answer: "Banana" },
            { question: "What animal says 'meow'?", options: ["Dog", "Cat", "Bird", "Fish"], answer: "Cat" },
            { question: "What is the capital of France?", options: ["London", "Paris", "Berlin", "Madrid"], answer: "Paris" }
        ];

        let currentQuizIndex = 0;

        function startQuiz() {
            currentQuizIndex = 0;
            showQuizQuestion();
        }

        function showQuizQuestion() {
            const questionEl = document.getElementById("quiz-question");
            const optionsEl = document.getElementById("quiz-options");
            const messageEl = document.getElementById("quiz-message");

            if (currentQuizIndex >= quizQuestions.length) {
                questionEl.textContent = "";
                optionsEl.innerHTML = "";
                messageEl.textContent = "üéâ Great job! You finished the quiz.";
                return;
            }

            const q = quizQuestions[currentQuizIndex];
            questionEl.textContent = q.question;
            optionsEl.innerHTML = "";
            messageEl.textContent = "";

            q.options.forEach(opt => {
                const btn = document.createElement("button");
                btn.className = "btn btn-outline-primary quiz-option";
                btn.textContent = opt;
                btn.onclick = () => checkQuizAnswer(opt);
                optionsEl.appendChild(btn);
            });
        }

        function checkQuizAnswer(selected) {
            const messageEl = document.getElementById("quiz-message");
            const correct = quizQuestions[currentQuizIndex].answer;

            if (selected === correct) {
                messageEl.textContent = "üëç Correct! Well done.";
            } else {
                messageEl.textContent = "üôÇ Nice try! The answer is " + correct + ".";
            }

            setTimeout(() => {
                currentQuizIndex++;
                showQuizQuestion();
            }, 2000);
        }

        // Simon Game Script
        const simonColors = ['red', 'green', 'blue', 'yellow'];
        let simonSequence = [];
        let playerSequence = [];
        let simonLevel = 1;
        let isPlaying = false;

        function startSimon() {
            simonSequence = [];
            playerSequence = [];
            simonLevel = 1;
            document.getElementById('simon-message').textContent = 'üòä Watch the sequence!';
            nextSimonRound();
        }

        function nextSimonRound() {
            playerSequence = [];
            simonSequence.push(simonColors[Math.floor(Math.random() * 4)]);
            playSimonSequence();
        }

        function playSimonSequence() {
            isPlaying = true;
            let i = 0;
            const interval = setInterval(() => {
                if (i >= simonSequence.length) {
                    clearInterval(interval);
                    isPlaying = false;
                    document.getElementById('simon-message').textContent = 'üôÇ Your turn! Repeat the sequence.';
                    return;
                }
                highlightButton(simonSequence[i]);
                i++;
            }, 800);
        }

        function highlightButton(color) {
            const btn = document.getElementById(color);
            btn.style.opacity = 0.5;
            setTimeout(() => {
                btn.style.opacity = 1;
            }, 400);
        }

        function playerClick(color) {
            if (isPlaying) return;
            playerSequence.push(color);
            highlightButton(color);

            if (playerSequence[playerSequence.length - 1] !== simonSequence[playerSequence.length - 1]) {
                document.getElementById('simon-message').textContent = 'üôÇ Oops! Try again. Press Start to restart.';
                isPlaying = true; // Lock until restart
                return;
            }

            if (playerSequence.length === simonSequence.length) {
                document.getElementById('simon-message').textContent = 'üëç Good! Next level.';
                simonLevel++;
                setTimeout(nextSimonRound, 1000);
            }
        }
    </script>

</body>
</html>
