<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brain Boost Games</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            background: #f9fbfd;
            padding: 20px;
        }

        h1, h2 {
            color: #4a6fa5;
            text-align: center;
        }

        .game-container {
            display: none;
            margin-top: 20px;
        }

        #home {
            display: block;
        }

        .card {
            width: 110px;
            height: 110px;
            background: #b8d8f8;
            border-radius: 12px;
            font-size: 42px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }

        .card.flipped, .card.matched {
            background: #ffffff;
            border: 2px solid #4a6fa5;
            cursor: default;
        }

        #memory-game {
            display: grid;
            gap: 15px;
            justify-content: center;
        }

        #message, #quiz-message, #math-message, #word-message {
            margin-top: 20px;
            font-size: 18px;
            color: #2e7d32;
            text-align: center;
            min-height: 24px;
        }

        .quiz-option, .math-option {
            margin: 10px 0;
            font-size: 18px;
        }

        .btn-primary {
            background: #4a6fa5;
            border: none;
        }

        #number-game {
            display: grid;
            gap: 15px;
            justify-content: center;
            margin: 20px 0;
        }

        .number-card {
            width: 110px;
            height: 110px;
            background: #b8d8f8;
            border-radius: 12px;
            font-size: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            user-select: none;
        }

        .number-card.selected {
            background: #ffffff;
            border: 2px solid #4a6fa5;
            cursor: default;
        }

        .word-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 400px;
            margin: 20px auto;
        }

        .word-cell {
            height: 60px;
            background: #b8d8f8;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
            cursor: pointer;
            border: 2px solid transparent;
        }

        .word-cell.matched {
            background: #ffffff;
            border-color: #4a6fa5;
        }

        .word-cell.selected {
            background: #ffffff;
            border: 2px solid #4a6fa5;
        }

        .targets {
            display: flex;
            justify-content: space-around;
            margin: 20px 0;
        }

        .target {
            width: 100px;
            height: 100px;
            background: #e3f2fd;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 48px;
            border: 2px dashed #4a6fa5;
        }

        .simon-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>üß† Brain Boost Games</h1>
        <p class="text-center">Fun and gentle games to stimulate your mind. Designed for seniors and those with Alzheimer's. Take your time and enjoy!</p>

        <div id="home" class="text-center">
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('memory')">Memory Matching</button>
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('quiz')">Trivia Quiz</button>
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('simon')">Simon Sequence</button>
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('math')">Math Quiz</button>
            <button class="btn btn-primary btn-lg m-2" onclick="showGame('word')">Emoji Word Match</button>
        </div>

        <!-- Memory Game -->
        <div id="memory" class="game-container">
            <h2>Memory Matching</h2>
            <p class="text-center">Match the pairs. Choose a level and take your time.</p>
            <div class="text-center mb-3">
                <button class="btn btn-primary" onclick="setLevel('easy')">Easy (4 pairs)</button>
                <button class="btn btn-primary" onclick="setLevel('medium')">Medium (6 pairs)</button>
                <button class="btn btn-primary" onclick="setLevel('hard')">Hard (8 pairs)</button>
            </div>
            <div id="memory-game"></div>
            <div id="message">üòä Let‚Äôs begin!</div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>

        <!-- Trivia Quiz -->
        <div id="quiz" class="game-container">
            <h2>Trivia Quiz</h2>
            <p class="text-center">Answer simple questions. No rush!</p>
            <div id="quiz-question" class="text-center mb-3" style="font-size: 24px; font-weight: bold;"></div>
            <div id="quiz-options" class="text-center"></div>
            <div id="quiz-message"></div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>

        <!-- Simon Game -->
        <div id="simon" class="game-container">
            <h2>Simon Sequence</h2>
            <p class="text-center">Watch the sequence and repeat it. Starts simple.</p>
            <div class="text-center mb-3">
                <button class="btn btn-primary" onclick="startSimon()">Start Game</button>
            </div>
            <div class="simon-buttons">
                <button id="red" class="btn btn-danger m-2" style="width:100px;height:100px;" onclick="playerClick('red')"></button>
                <button id="green" class="btn btn-success m-2" style="width:100px;height:100px;" onclick="playerClick('green')"></button>
                <button id="blue" class="btn btn-primary m-2" style="width:100px;height:100px;" onclick="playerClick('blue')"></button>
                <button id="yellow" class="btn btn-warning m-2" style="width:100px;height:100px;" onclick="playerClick('yellow')"></button>
            </div>
            <div id="simon-message" class="text-center mt-3">üòä Press Start to begin!</div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>

        <!-- Math Quiz -->
        <div id="math" class="game-container">
            <h2>Math Quiz</h2>
            <p class="text-center">Simple addition and subtraction. Take your time!</p>
            <div id="math-question" class="text-center mb-3" style="font-size: 24px; font-weight: bold;"></div>
            <div id="math-options" class="text-center"></div>
            <div id="math-message"></div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>

        <!-- Emoji Word Match -->
        <div id="word" class="game-container">
            <h2>Emoji Word Match</h2>
            <p class="text-center">Click the word that matches the emoji. Relax and think.</p>
            <div class="targets">
                <div class="target" id="target"></div>
            </div>
            <div id="word-grid" class="word-grid"></div>
            <div id="word-message" class="text-center mt-3">üòä Let's match!</div>
            <button class="btn btn-secondary mt-3" onclick="backToHome()">Back to Home</button>
        </div>
    </div>

    <script>
        function showGame(gameId) {
            document.querySelectorAll('.game-container').forEach(el => el.style.display = 'none');
            document.getElementById('home').style.display = 'none';
            document.getElementById(gameId).style.display = 'block';
            if (gameId === 'memory') startMemoryGame();
            if (gameId === 'quiz') startQuiz();
            if (gameId === 'simon') document.getElementById('simon-message').textContent = 'üòä Press Start to begin!';
            if (gameId === 'math') startMathQuiz();
            if (gameId === 'word') startWordGame();
        }

        function backToHome() {
            document.querySelectorAll('.game-container').forEach(el => el.style.display = 'none');
            document.getElementById('home').style.display = 'block';
        }

        // Memory Game Script
        const memoryLevels = {
            easy: ["üå∏","üçé","‚≠ê","üê∂"],
            medium: ["üå∏","üçé","‚≠ê","üê∂","üçå","üê±"],
            hard: ["üå∏","üçé","‚≠ê","üê∂","üçå","üê±","üåº","üçá"]
        };

        let memorySymbols = memoryLevels.easy;
        let memoryCards = [];
        let memoryFirst = null;
        let memorySecond = null;
        let memoryLock = false;
        let memoryMatches = 0;

        function shuffle(arr) {
            for (let i = arr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [arr[i], arr[j]] = [arr[j], arr[i]];
            }
        }

        function setLevel(level) {
            memorySymbols = memoryLevels[level];
            startMemoryGame();
        }

        function startMemoryGame() {
            const game = document.getElementById("memory-game");
            const message = document.getElementById("message");
            game.innerHTML = "";
            message.textContent = "üòä Let‚Äôs begin!";
            memoryMatches = 0;
            memoryFirst = null;
            memorySecond = null;
            memoryLock = false;

            memoryCards = [...memorySymbols, ...memorySymbols];
            shuffle(memoryCards);

            const cols = Math.ceil(Math.sqrt(memoryCards.length));
            game.style.gridTemplateColumns = `repeat(${cols}, 110px)`;

            memoryCards.forEach(sym => {
                const card = document.createElement("div");
                card.className = "card";
                card.textContent = "‚ùì";
                card.dataset.sym = sym;
                card.onclick = () => memoryFlip(card);
                game.appendChild(card);
            });
        }

        function memoryFlip(card) {
            if (memoryLock || card.classList.contains("flipped") || card.classList.contains("matched")) return;

            card.classList.add("flipped");
            card.textContent = card.dataset.sym;

            if (!memoryFirst) {
                memoryFirst = card;
            } else {
                memorySecond = card;
                memoryCheck();
            }
        }

        function memoryCheck() {
            const message = document.getElementById("message");

            if (memoryFirst.dataset.sym === memorySecond.dataset.sym) {
                memoryFirst.classList.add("matched");
                memorySecond.classList.add("matched");
                memoryMatches += 2;
                message.textContent = "üëç Nice! You found a match.";
                memoryReset();

                if (memoryMatches === memoryCards.length) {
                    message.textContent = "üéâ Wonderful! You matched all the pairs.";
                }
            } else {
                memoryLock = true;
                message.textContent = "üôÇ That‚Äôs okay. Try again.";
                setTimeout(() => {
                    memoryFirst.textContent = "‚ùì";
                    memorySecond.textContent = "‚ùì";
                    memoryFirst.classList.remove("flipped");
                    memorySecond.classList.remove("flipped");
                    memoryReset();
                }, 1200);
            }
        }

        function memoryReset() {
            [memoryFirst, memorySecond] = [null, null];
            memoryLock = false;
        }

        // Trivia Quiz Script - Larger pool, random selection
        const triviaPool = [
            { question: "What color is the sky on a clear day?", options: ["Blue", "Green", "Red", "Yellow"], answer: "Blue" },
            { question: "How many legs does a dog have?", options: ["2", "4", "6", "8"], answer: "4" },
            { question: "What fruit is yellow and curved?", options: ["Apple", "Banana", "Orange", "Grape"], answer: "Banana" },
            { question: "What animal says 'meow'?", options: ["Dog", "Cat", "Bird", "Fish"], answer: "Cat" },
            { question: "What is the capital of France?", options: ["London", "Paris", "Berlin", "Madrid"], answer: "Paris" },
            { question: "What color do you get when you mix red and white?", options: ["Pink", "Purple", "Green", "Blue"], answer: "Pink" },
            { question: "How many days are in a week?", options: ["5", "7", "10", "12"], answer: "7" },
            { question: "What is the largest ocean?", options: ["Atlantic", "Indian", "Arctic", "Pacific"], answer: "Pacific" },
            { question: "What do bees make?", options: ["Honey", "Milk", "Juice", "Sugar"], answer: "Honey" },
            { question: "What is the opposite of hot?", options: ["Warm", "Cold", "Big", "Small"], answer: "Cold" },
            { question: "How many fingers on one hand?", options: ["3", "4", "5", "6"], answer: "5" },
            { question: "What animal is known as man's best friend?", options: ["Cat", "Dog", "Bird", "Horse"], answer: "Dog" },
            { question: "What season comes after summer?", options: ["Spring", "Winter", "Fall", "Summer"], answer: "Fall" },
            { question: "What do you call a baby dog?", options: ["Kitten", "Puppy", "Calf", "Foal"], answer: "Puppy" },
            { question: "What color is grass?", options: ["Blue", "Red", "Green", "Yellow"], answer: "Green" },
            { question: "How many wheels on a bicycle?", options: ["2", "3", "4", "6"], answer: "2" },
            { question: "What is the sun?", options: ["A planet", "A star", "A moon", "A cloud"], answer: "A star" },
            { question: "What do you use to write with?", options: ["Fork", "Pen", "Shoe", "Hat"], answer: "Pen" },
            { question: "What is 1 + 1?", options: ["2", "3", "1", "4"], answer: "2" },
            { question: "What bird is famous for its colorful tail?", options: ["Eagle", "Robin", "Peacock", "Sparrow"], answer: "Peacock" }
        ];

        let currentQuizQuestions = [];
        let currentQuizIndex = 0;

        function startQuiz() {
            // Shuffle pool and pick 5 random unique questions
            const shuffled = [...triviaPool].sort(() => 0.5 - Math.random());
            currentQuizQuestions = shuffled.slice(0, 5);
            currentQuizIndex = 0;
            showQuizQuestion();
        }

        function showQuizQuestion() {
            const questionEl = document.getElementById("quiz-question");
            const optionsEl = document.getElementById("quiz-options");
            const messageEl = document.getElementById("quiz-message");

            if (currentQuizIndex >= currentQuizQuestions.length) {
                questionEl.textContent = "";
                optionsEl.innerHTML = "";
                messageEl.textContent = "üéâ Great job! You finished the quiz.";
                return;
            }

            const q = currentQuizQuestions[currentQuizIndex];
            questionEl.textContent = q.question;
            optionsEl.innerHTML = "";
            messageEl.textContent = "";

            // Shuffle options for variety
            const shuffledOptions = [...q.options].sort(() => 0.5 - Math.random());
            shuffledOptions.forEach(opt => {
                const btn = document.createElement("button");
                btn.className = "btn btn-outline-primary quiz-option";
                btn.textContent = opt;
                btn.onclick = () => checkQuizAnswer(opt);
                optionsEl.appendChild(btn);
            });
        }

        function checkQuizAnswer(selected) {
            const messageEl = document.getElementById("quiz-message");
            const correct = currentQuizQuestions[currentQuizIndex].answer;

            if (selected === correct) {
                messageEl.textContent = "üëç Correct! Well done.";
            } else {
                messageEl.textContent = "üôÇ Nice try! The answer is " + correct + ".";
            }

            setTimeout(() => {
                currentQuizIndex++;
                showQuizQuestion();
            }, 2000);
        }

        // Simon Game Script
        const simonColors = ['red', 'green', 'blue', 'yellow'];
        let simonSequence = [];
        let playerSequence = [];
        let simonLevel = 1;
        let isPlaying = false;

        function startSimon() {
            simonSequence = [];
            playerSequence = [];
            simonLevel = 1;
            document.getElementById('simon-message').textContent = 'üòä Watch the sequence!';
            nextSimonRound();
        }

        function nextSimonRound() {
            playerSequence = [];
            simonSequence.push(simonColors[Math.floor(Math.random() * 4)]);
            playSimonSequence();
        }

        function playSimonSequence() {
            isPlaying = true;
            let i = 0;
            const interval = setInterval(() => {
                if (i >= simonSequence.length) {
                    clearInterval(interval);
                    isPlaying = false;
                    document.getElementById('simon-message').textContent = 'üôÇ Your turn! Repeat the sequence.';
                    return;
                }
                highlightButton(simonSequence[i]);
                i++;
            }, 800);
        }

        function highlightButton(color) {
            const btn = document.getElementById(color);
            btn.style.opacity = 0.5;
            setTimeout(() => {
                btn.style.opacity = 1;
            }, 400);
        }

        function playerClick(color) {
            if (isPlaying) return;
            playerSequence.push(color);
            highlightButton(color);

            if (playerSequence[playerSequence.length - 1] !== simonSequence[playerSequence.length - 1]) {
                document.getElementById('simon-message').textContent = 'üôÇ Oops! Try again. Press Start to restart.';
                isPlaying = true;
                return;
            }

            if (playerSequence.length === simonSequence.length) {
                document.getElementById('simon-message').textContent = 'üëç Good! Next level.';
                simonLevel++;
                setTimeout(nextSimonRound, 1000);
            }
        }

        // Math Quiz Script - Dynamic random generation
        let currentMathQuestions = [];
        let currentMathIndex = 0;

        function generateMathQuestion() {
            const num1 = Math.floor(Math.random() * 10) + 1;
            const num2 = Math.floor(Math.random() * 10) + 1;
            const ops = ['+', '-'];
            const op = ops[Math.floor(Math.random() * ops.length)];
            let correct;
            let question;
            if (op === '+') {
                correct = num1 + num2;
                question = `${num1} + ${num2} = ?`;
            } else {
                if (num1 < num2) [num1, num2] = [num2, num1]; // Ensure positive
                correct = num1 - num2;
                question = `${num1} - ${num2} = ?`;
            }
            // Generate options: correct + 3 distractors
            const options = [correct];
            while (options.length < 4) {
                let distractor = correct + (Math.random() > 0.5 ? 1 : -1) * (Math.floor(Math.random() * 3) + 1);
                if (distractor > 0 && !options.includes(distractor)) {
                    options.push(distractor);
                }
            }
            shuffle(options);
            return { question, options: options.map(String), answer: correct.toString() };
        }

        function startMathQuiz() {
            currentMathQuestions = [];
            for (let i = 0; i < 5; i++) {
                currentMathQuestions.push(generateMathQuestion());
            }
            currentMathIndex = 0;
            showMathQuestion();
        }

        function showMathQuestion() {
            const questionEl = document.getElementById("math-question");
            const optionsEl = document.getElementById("math-options");
            const messageEl = document.getElementById("math-message");

            if (currentMathIndex >= currentMathQuestions.length) {
                questionEl.textContent = "";
                optionsEl.innerHTML = "";
                messageEl.textContent = "üéâ Great job! You finished the math quiz.";
                return;
            }

            const q = currentMathQuestions[currentMathIndex];
            questionEl.textContent = q.question;
            optionsEl.innerHTML = "";
            messageEl.textContent = "";

            q.options.forEach(opt => {
                const btn = document.createElement("button");
                btn.className = "btn btn-outline-primary math-option";
                btn.textContent = opt;
                btn.onclick = () => checkMathAnswer(opt);
                optionsEl.appendChild(btn);
            });
        }

        function checkMathAnswer(selected) {
            const messageEl = document.getElementById("math-message");
            const correct = currentMathQuestions[currentMathIndex].answer;

            if (selected === correct) {
                messageEl.textContent = "üëç Correct! Well done.";
            } else {
                messageEl.textContent = "üôÇ Nice try! The answer is " + correct + ".";
            }

            setTimeout(() => {
                currentMathIndex++;
                showMathQuestion();
            }, 2000);
        }

        // Emoji Word Match Script - Fixed logic to single select, more pairs, random pick
        const wordPairs = [
            { emoji: "üçé", word: "Apple", distractors: ["Banana", "Cherry", "Date"] },
            { emoji: "üê∂", word: "Dog", distractors: ["Cat", "Bird", "Fish"] },
            { emoji: "üå∏", word: "Flower", distractors: ["Tree", "Grass", "Leaf"] },
            { emoji: "‚≠ê", word: "Star", distractors: ["Moon", "Sun", "Cloud"] },
            { emoji: "üçå", word: "Banana", distractors: ["Apple", "Orange", "Grape"] },
            { emoji: "üê±", word: "Cat", distractors: ["Dog", "Rabbit", "Mouse"] },
            { emoji: "üåº", word: "Daisy", distractors: ["Rose", "Tulip", "Lily"] },
            { emoji: "üçá", word: "Grape", distractors: ["Berry", "Lemon", "Peach"] }
        ];

        let currentWordPair = null;
        let currentWordIndex = 0;
        let selectedCell = null;

        function startWordGame() {
            currentWordIndex = 0;
            showWordTarget();
            generateWordGrid();
            document.getElementById("word-message").textContent = "üòä Click the matching word!";
        }

        function showWordTarget() {
            if (currentWordIndex >= 3) {
                document.getElementById("target").textContent = "";
                document.getElementById("word-message").textContent = "üéâ Great! You matched all three.";
                return;
            }
            const shuffledPairs = [...wordPairs].sort(() => 0.5 - Math.random());
            currentWordPair = shuffledPairs[0]; // Pick one random for this round, but sequence 3
            document.getElementById("target").textContent = currentWordPair.emoji;
        }

        function generateWordGrid() {
            const grid = document.getElementById("word-grid");
            grid.innerHTML = "";
            const options = [currentWordPair.word, ...currentWordPair.distractors];
            shuffle(options);

            options.forEach(word => {
                const cell = document.createElement("div");
                cell.className = "word-cell";
                cell.textContent = word;
                cell.onclick = () => selectWordCell(cell, word);
                grid.appendChild(cell);
            });
        }

        function selectWordCell(cell, word) {
            const messageEl = document.getElementById("word-message");
            if (cell.classList.contains("matched") || selectedCell) return;

            cell.classList.add("selected");
            selectedCell = cell;

            if (word === currentWordPair.word) {
                cell.classList.add("matched");
                cell.classList.remove("selected");
                messageEl.textContent = "üëç Perfect match!";
                selectedCell = null;
                setTimeout(() => {
                    currentWordIndex++;
                    if (currentWordIndex >= 3) {
                        showWordTarget();
                    } else {
                        showWordTarget();
                        generateWordGrid();
                    }
                }, 1500);
            } else {
                messageEl.textContent = "üôÇ Close! Try another.";
                setTimeout(() => {
                    cell.classList.remove("selected");
                    selectedCell = null;
                }, 1500);
            }
        }

        // Init on load
        startMemoryGame();
    </script>

</body>
</html>
